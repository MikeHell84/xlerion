<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Resumen - Gráficos</title>
  <style>
    :root{ --deep:#004080; --accent:#00EEFF; --accent2:#43FFFF; --muted:#2C2C2C }
    body{font-family:Segoe UI, Roboto, Arial, sans-serif; padding:24px; background:#f4f6f8}
    .wrap{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .card{background:#fff;padding:16px;border-radius:10px;box-shadow:0 6px 20px rgba(2,12,32,0.06)}
    .full{grid-column:1 / -1}
    h2{margin:0 0 12px 0;font-size:1rem}
    canvas{width:100% !important;height:260px !important}
    .data-source{font-size:.85rem;color:var(--muted);margin-top:8px}
    .legend-swatch{display:inline-block;width:12px;height:12px;border-radius:3px;margin-right:8px;vertical-align:middle}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>Resumen ejecutivo — Gráficos</h1>
  <p class="data-source">Los gráficos se generan a partir del fragmento HTML proporcionado (Resumen ejecutivo / KPI / Expertise).</p>

  <div class="wrap">
    <div class="card">
      <h2>KPI — Donut</h2>
      <canvas id="kpiDonut"></canvas>
    </div>

    <div class="card">
      <h2>Expertise — Barras</h2>
      <canvas id="expBar"></canvas>
    </div>

    <div class="card full">
      <h2>Progreso proyectos — Línea (ejemplo)</h2>
      <canvas id="projLine"></canvas>
      <div class="data-source">Línea de ejemplo: puedes reemplazar con tus datos reales (años, entregas).</div>
    </div>
  </div>

  <script>
    // Datos extraídos manualmente del attachment
    const kpiData = [12, 50, 30]; // años experiencia, proyectos entregados, clientes
    const kpiLabels = ['Años experiencia','Proyectos entregados','Clientes satisfechos'];

    const expertiseLabels = [
      'Diseño de producto & prototipado',
      'UX/UI y desarrollo web',
      'Integración hardware + software'
    ];
    // Simple scoring: asignar un valor 1 por cada expertise (puedes ajustar)
    const expertiseValues = [80, 70, 60];

    // Proyectos por año: ejemplo sintético (puedes ajustar o proveer reales)
    const projYears = ['2019','2020','2021','2022','2023','2024'];
    const projValues = [4,6,8,9,10,13];

    // KPI Donut
    const ctxKpi = document.getElementById('kpiDonut').getContext('2d');
  new Chart(ctxKpi, {
      type: 'doughnut',
      data: {
        labels: kpiLabels,
        datasets: [{
          data: kpiData,
      backgroundColor: [getComputedStyle(document.documentElement).getPropertyValue('--deep') || '#004080', getComputedStyle(document.documentElement).getPropertyValue('--accent') || '#00EEFF', getComputedStyle(document.documentElement).getPropertyValue('--accent2') || '#43FFFF'],
      borderColor: '#fff',
          borderWidth: 2
        }]
      },
      options: {
        plugins: { legend: { position: 'bottom' } },
        responsive: true,
        maintainAspectRatio: false
      }
    });

    // Expertise Bars
    const ctxExp = document.getElementById('expBar').getContext('2d');
  new Chart(ctxExp, {
      type: 'bar',
      data: {
        labels: expertiseLabels,
        datasets: [{ label: 'Nivel (0-100)', data: expertiseValues, backgroundColor: ['#4f46e5','#06b6d4','#f97316'] }]
      },
      options: {
        indexAxis: 'y',
        scales: {
          x: { max: 100 }
        },
        plugins: { legend: { display: false } },
        responsive: true,
        maintainAspectRatio: false
      }
    });

    // Projects line
    const ctxProj = document.getElementById('projLine').getContext('2d');
  new Chart(ctxProj, {
      type: 'line',
      data: {
        labels: projYears,
        datasets: [{
          label: 'Proyectos entregados',
          data: projValues,
      borderColor: getComputedStyle(document.documentElement).getPropertyValue('--accent') || '#00EEFF',
      backgroundColor: (getComputedStyle(document.documentElement).getPropertyValue('--accent') || '#00EEFF').trim() ? 'rgba(0,238,255,0.12)' : 'rgba(0,184,148,0.12)',
          tension: 0.22,
          fill: true,
          pointRadius: 4
        }]
      },
      options: {
        plugins: { legend: { position: 'top' } },
        responsive: true,
        maintainAspectRatio: false
      }
    });

  </script>
</body>
</html>
